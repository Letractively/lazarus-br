Exemplo enviado pelo Elson Junior, baseado no artigo "http://www.freepascal.org/docs-html/ref/refsu61.html".